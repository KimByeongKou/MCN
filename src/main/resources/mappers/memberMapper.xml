<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="org.eney.mapper.memberMapper">

	
	
	<resultMap id="MemberDTO" type="org.eney.domain.MemberDTO">
		
		<result property="memberNo" column="m_member_no" />
		<result property="name" column="m_name" />
		<result property="email" column="m_email" />
		<result property="phoneNum" column="m_phone_num" />
		<result property="regDate" column="m_reg_date" />
		
	</resultMap>




	<select id="searchMemberAll" resultMap="MemberDTO">
  		select *
  		from tbl_member
  	</select>



	<insert id="createMember">
		insert into tbl_member (m_name, m_email, m_phone_num) 
		values (#{m_name}, #{m_email}, #{m_phone_num})
	</insert>
	
  
  	
  	<select id="searchMemberOverview" resultType="org.eney.domain.MemberDTO">
  		select *
  		from tbl_member
  		where m_member_no = #{m_member_no}
  	</select>
  	
  	
  	
  	
  	
  	<update id="updateMemberToCreator">
  		update tbl_member_class
  		set m_class_name = #{creator_string}
  		where m_member_no = #{m_member_no}
  		
  	</update>
  	
  	
  	
  	
  	<update id="updateCreatorToMember">
  		update tbl_member_class
  		where m_member_no = #{m_member_no}
  		set m_class_name = #{member_string}
  	</update>
  	
  	<update id="updateMemberToAdvertiser">
  		update tbl_member_class
  		where m_member_no = #{m_member_no}
  		set m_class_name = #{advertiser_string}
  	</update>
  	
  	<update id="updateAdvertiserToMember">
  		update tbl_member_class
  		where m_member_no = #{m_member_no}
  		set m_class_name = #{member_string}
  	</update>
  	
  	
  	<delete id="deleteMember">
  		delete from tbl_member
  		where m_member_no = #{m_member_no} 
  	</delete>
  	
  	
</mapper>  

